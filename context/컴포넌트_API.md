# 마음이음 컴포넌트 API 문서

이 문서는 마음이음 프로젝트에서 사용 가능한 모든 컴포넌트들의 사용 방법을 안내합니다.

---

## 1. 기본 UI 컴포넌트 (shadcn 기반)

### 1.1 Accordion

**목적**: 접을 수 있는 아코디언 패널

**Storybook**: `frontend/components/ui/accordion.stories.tsx`

---

### 1.2 Alert

**목적**: 경고 메시지 표시

**Storybook**: `frontend/components/ui/alert.stories.tsx`

---

### 1.3 AlertDialog

**목적**: 확인/취소가 필요한 경고 대화상자

**Storybook**: `frontend/components/ui/alert-dialog.stories.tsx`

---

### 1.4 AspectRatio

**목적**: 이미지나 비디오의 종횡비 유지

**Storybook**: `frontend/components/ui/aspect-ratio.stories.tsx`

---

### 1.5 Avatar

**목적**: 사용자 프로필 아바타

**Storybook**: `frontend/components/ui/avatar.stories.tsx`

---

### 1.6 Badge

**목적**: 상태나 카테고리를 표시하는 배지

**Storybook**: `frontend/components/ui/badge.stories.tsx`

---

### 1.7 Breadcrumb

**목적**: 계층적 네비게이션 경로 표시

**Storybook**: `frontend/components/ui/breadcrumb.stories.tsx`

---

### 1.8 Button

**목적**: 사용자 액션을 위한 버튼 컴포넌트

**Storybook**: `frontend/components/ui/button.stories.tsx`

---

### 1.9 Calendar

**목적**: 날짜 선택 달력

**Storybook**: `frontend/components/ui/calendar.stories.tsx`

---

### 1.10 Card

**목적**: 컨텐츠를 담는 카드 컨테이너

**Storybook**: `frontend/components/ui/card.stories.tsx`

---

### 1.11 Carousel

**목적**: 이미지/콘텐츠 캐러셀

**Storybook**: `frontend/components/ui/carousel.stories.tsx`

---

### 1.12 Chart

**목적**: 차트 시각화

**Storybook**: `frontend/components/ui/chart.stories.tsx`

---

### 1.13 Checkbox

**목적**: 체크박스 입력

**Storybook**: `frontend/components/ui/checkbox.stories.tsx`

---

### 1.14 Collapsible

**목적**: 접을 수 있는 영역

**Storybook**: `frontend/components/ui/collapsible.stories.tsx`

---

### 1.15 Command

**목적**: 커맨드 팔레트 (검색 및 명령 실행)

**Storybook**: `frontend/components/ui/command.stories.tsx`

---

### 1.16 ContextMenu

**목적**: 컨텍스트 메뉴 (우클릭 메뉴)

**Storybook**: `frontend/components/ui/context-menu.stories.tsx`

---

### 1.17 Dialog

**목적**: 모달 대화상자

**Storybook**: `frontend/components/ui/dialog.stories.tsx`

---

### 1.18 Drawer

**목적**: 하단/측면 드로어

**Storybook**: `frontend/components/ui/drawer.stories.tsx`

---

### 1.19 DropdownMenu

**목적**: 드롭다운 메뉴

**Storybook**: `frontend/components/ui/dropdown-menu.stories.tsx`

---

### 1.20 Form

**목적**: 폼 관리 (react-hook-form 통합)

**Storybook**: `frontend/components/ui/form.stories.tsx`

---

### 1.21 HoverCard

**목적**: 호버 시 카드 표시

**Storybook**: `frontend/components/ui/hover-card.stories.tsx`

---

### 1.22 Input

**목적**: 텍스트 입력 필드

**Storybook**: `frontend/components/ui/input.stories.tsx`

---

### 1.23 InputOTP

**목적**: OTP(일회용 비밀번호) 입력

**Storybook**: `frontend/components/ui/input-otp.stories.tsx`

---

### 1.24 Label

**목적**: 폼 레이블

**Storybook**: `frontend/components/ui/label.stories.tsx`

---

### 1.25 Menubar

**목적**: 수평 메뉴바 (데스크톱 앱 스타일)

**Storybook**: `frontend/components/ui/menubar.stories.tsx`

---

### 1.26 NavigationMenu

**목적**: 복잡한 네비게이션 메뉴 구조

**Storybook**: `frontend/components/ui/navigation-menu.stories.tsx`

---

### 1.27 Pagination

**목적**: 페이지네이션 UI

**Storybook**: `frontend/components/ui/pagination.stories.tsx`

---

### 1.28 Popover

**목적**: 경량 팝오버

**Storybook**: `frontend/components/ui/popover.stories.tsx`

---

### 1.29 Progress

**목적**: 진행 표시줄

**Storybook**: `frontend/components/ui/progress.stories.tsx`

---

### 1.30 RadioGroup

**목적**: 라디오 버튼 그룹

**Storybook**: `frontend/components/ui/radio-group.stories.tsx`

---

### 1.31 Resizable

**목적**: 크기 조정 가능한 패널 레이아웃

**Storybook**: `frontend/components/ui/resizable.stories.tsx`

---

### 1.32 ScrollArea

**목적**: 커스텀 스크롤 영역

**Storybook**: `frontend/components/ui/scroll-area.stories.tsx`

---

### 1.33 Select

**목적**: 드롭다운 선택 메뉴

**Storybook**: `frontend/components/ui/select.stories.tsx`

---

### 1.34 Separator

**목적**: 시각적 구분선 제공

**Storybook**: `frontend/components/ui/separator.stories.tsx`

---

### 1.35 Sheet

**목적**: 슬라이드인 패널

**Storybook**: `frontend/components/ui/sheet.stories.tsx`

---

### 1.36 Sidebar

**목적**: 복잡한 사이드바 레이아웃

**Storybook**: `frontend/components/ui/sidebar.stories.tsx`

---

### 1.37 Skeleton

**목적**: 로딩 스켈레톤

**Storybook**: `frontend/components/ui/skeleton.stories.tsx`

---

### 1.38 Slider

**목적**: 슬라이더 입력

**Storybook**: `frontend/components/ui/slider.stories.tsx`

---

### 1.39 Switch

**목적**: 토글 스위치

**Storybook**: `frontend/components/ui/switch.stories.tsx`

---

### 1.40 Table

**목적**: 데이터 테이블

**Storybook**: `frontend/components/ui/table.stories.tsx`

---

### 1.41 Tabs

**목적**: 탭 인터페이스

**Storybook**: `frontend/components/ui/tabs.stories.tsx`

---

### 1.42 Textarea

**목적**: 여러 줄 텍스트 입력

**Storybook**: `frontend/components/ui/textarea.stories.tsx`

---

### 1.43 Toast

**목적**: 알림 토스트

**Storybook**: `frontend/components/ui/toast.stories.tsx`

---

### 1.44 Toggle

**목적**: 토글 버튼

**Storybook**: `frontend/components/ui/toggle.stories.tsx`

---

### 1.45 ToggleGroup

**목적**: 토글 버튼 그룹

**Storybook**: `frontend/components/ui/toggle-group.stories.tsx`

---

### 1.46 Tooltip

**목적**: 간단한 툴팁

**Storybook**: `frontend/components/ui/tooltip.stories.tsx`

---

## 2. 합성 컴포넌트

### 2.1 CenterCard

**목적**: 센터 정보를 표시하는 카드 컴포넌트

---

### 2.2 SearchBar

**목적**: 센터 검색을 위한 검색바

**Storybook**: `frontend/components/search-bar.stories.tsx`

---

### 2.3 QuickAccessGrid

**목적**: 주요 기능에 빠르게 접근할 수 있는 그리드

**Storybook**: `frontend/components/quick-access-grid.stories.tsx`

---

### 2.4 OperatingStatus

**목적**: 센터의 운영 상태를 표시

---

### 2.5 CenterMap

**목적**: 센터 위치를 지도에 표시

---

### 2.6 OperatingStatusBadge

**목적**: 센터의 현재 운영 상태를 시각적 배지로 표시 (Sprint 2)

**상태별 색상 및 아이콘**:
- `OPEN`: 초록색 (green-600) + CheckCircle 아이콘 + 펄스 애니메이션
- `CLOSING_SOON`: 노란색 (yellow-600) + Clock 아이콘 + 펄스 애니메이션
- `CLOSED`: 회색 (gray-600) + AlertCircle 아이콘
- `HOLIDAY`: 회색 (gray-600) + Calendar 아이콘
- `TEMP_CLOSED`: 빨간색 (red-600) + XCircle 아이콘
- `NO_INFO`: 회색 테두리 (gray-400) + Info 아이콘

**접근성**:
- `role="status"` 적용
- `aria-label="현재 상태: {message}"` 포함
- 스크린리더 친화적 메시지
- 색상만으로 정보 전달하지 않음 (아이콘 + 텍스트)

**Storybook**: `frontend/components/center/OperatingStatusBadge.stories.tsx`

---

### 2.7 OperatingHoursTable

**목적**: 센터의 요일별 운영시간을 테이블 형식으로 표시 (Sprint 2)

**주요 기능**:
- 7일 운영시간 표시 (일요일 ~ 토요일)
- 현재 요일 강조 표시 (lavender-50 배경 + lavender-500 왼쪽 테두리)
- 휴무일 "휴무" 텍스트 표시
- 반응형 디자인 (모바일 최적화)

**접근성**:
- `<table>` 시맨틱 마크업 사용
- `<th>` 헤더 셀로 테이블 구조 명확화
- 현재 요일에 `(오늘)` 스크린리더용 텍스트 추가
- 키보드 네비게이션 지원

**Storybook**: `frontend/components/center/OperatingHoursTable.stories.tsx`

---

### 2.8 HolidayList

**목적**: 센터의 예정된 휴무일 목록을 표시 (Sprint 2)

**타입별 배지 색상**:
- `public` (공휴일): 빨간색 (red-100 배경 + red-700 텍스트)
- `regular` (정기휴무): 파란색 (blue-100 배경 + blue-700 텍스트)
- `temporary` (임시휴무): 주황색 (orange-100 배경 + orange-700 텍스트)

**주요 기능**:
- 날짜 포맷팅 (date-fns, 한국어 로케일): "1월 1일 (수)"
- 날짜순 자동 정렬
- 더보기/접기 버튼 (maxItems 초과 시)
- 빈 상태 처리 (휴무일 없음 메시지)

**접근성**:
- `<ul role="list">` 시맨틱 마크업
- 더보기 버튼: `aria-label="2개 더보기"` 포함
- 스크린리더 친화적 날짜 포맷
- 키보드 네비게이션 지원

**Storybook**: `frontend/components/center/HolidayList.stories.tsx`

---

### 2.9 StaffList

**목적**: 센터의 의료진 현황을 표시하는 컴포넌트 (Sprint 3)

**특징**:
- shadcn Card 컴포넌트 사용
- 총 인원 배지 표시
- 빈 상태 처리 (의료진 정보 없을 때)
- 접근성: 시맨틱 리스트 (`<ul>`, `<li>`)
- Storybook: 8 stories 제공

**Storybook**: `frontend/components/center/StaffList.stories.tsx`

---

### 2.10 ProgramCard

**목적**: 개별 프로그램 정보를 카드 형태로 표시 (Sprint 3)

**특징**:
- 클릭 가능한 카드 (role="button")
- 온라인/무료 배지 자동 표시
- 키보드 네비게이션 (Enter, Space)
- 호버 효과 (border, shadow)
- Storybook: 6 stories 제공

**Storybook**: `frontend/components/center/ProgramCard.stories.tsx`

---

### 2.11 ProgramList

**목적**: 프로그램 카드들을 그리드 레이아웃으로 표시 (Sprint 3)

**특징**:
- 반응형 그리드 (모바일 1열, 태블릿+ 2열)
- 초기 5개 표시, "더보기" 버튼으로 전체 표시
- 빈 상태 처리 (프로그램 없을 때)
- ProgramCard 컴포넌트 사용
- Storybook: 6 stories 제공

**Storybook**: `frontend/components/center/ProgramList.stories.tsx`

---

### 2.12 ProgramDetailModal

**목적**: 프로그램 상세 정보를 모달로 표시 (Sprint 3)

**특징**:
- shadcn Dialog 컴포넌트 사용
- ESC 키로 닫기 지원
- 외부 클릭으로 닫기 지원
- 프로그램 소개, 상세 정보, 신청 안내 섹션
- 온라인/무료 배지 표시
- 반응형 (모바일 전체 화면, 데스크톱 중앙)
- Storybook: 8 stories 제공

**Storybook**: `frontend/components/center/ProgramDetailModal.stories.tsx`

---

## 3. 순수 커스텀 컴포넌트

### 3.1 ThemeProvider

**목적**: Next.js 애플리케이션의 다크/라이트 테마 관리

**Storybook**: `frontend/components/theme-provider.stories.tsx`

---

### 3.2 PromotionalSection

**목적**: 홍보 섹션 카드 (긴급전화, 상담 예약 등)

**Storybook**: `frontend/components/promotional-section.stories.tsx`

---

### 3.3 HeroBanner

**목적**: 메인 페이지 히어로 배너

**Storybook**: `frontend/components/hero-banner.stories.tsx`

---

### 3.4 Header

**목적**: 앱 상단 헤더 (네비게이션 및 사용자 메뉴)

**Storybook**: `frontend/components/header.stories.tsx`

---

### 3.5 IconButton

**목적**: 아이콘과 라벨이 있는 터치 친화적 버튼

---

### 3.6 BottomNavigation

**목적**: 모바일 하단 네비게이션 바

**Storybook**: `frontend/components/bottom-navigation.stories.tsx`

---

### 3.7 LocationSelector

**목적**: 현재 위치를 선택하는 드롭다운

---

### 3.8 FilterPanel

**목적**: 센터 검색 필터 패널

---

## 4. 스타일 가이드

### 4.1 색상 사용

**Primary Actions**:
- `bg-lavender-500` 또는 `gradient-lavender`
- 주요 액션 버튼, 강조 요소

**Secondary Actions**:
- `bg-lavender-100` with `text-lavender-700`
- 보조 버튼, 서브 액션

**상태 표시**:
- 운영중: `bg-status-operating` (녹색 계열)
- 마감: `bg-status-closed` (회색 계열)
- 긴급: `bg-status-emergency` (빨강 계열)

**CSS 변수**:
```css
--background: 0 0% 100%
--foreground: 240 10% 3.9%
--primary: 240 5.9% 10%
--primary-foreground: 0 0% 98%
--lavender-500: 264 83% 72%
--status-operating: 142 76% 36%
--status-closed: 240 5% 65%
--status-emergency: 0 84% 60%
```

### 4.2 간격 규칙

**컴포넌트 간격**:
- `gap-4` (16px) - 그리드 아이템 간격
- `space-x-4` / `space-y-4` - 수평/수직 간격

**섹션 간격**:
- `space-y-6` (24px) - 섹션 간 간격
- `space-y-8` (32px) - 큰 섹션 간격

**카드 내부 패딩**:
- `p-4` (16px) - 기본 패딩
- `p-6` (24px) - 여유있는 패딩

**터치 타겟**:
- 최소 `44x44px` (모바일 접근성)
- `size="touch"` prop 사용

### 4.3 반응형 브레이크포인트

- `sm:` (640px) - 태블릿
- `md:` (768px) - 작은 데스크톱
- `lg:` (1024px) - 데스크톱
- `xl:` (1280px) - 큰 데스크톱

**제목**:
- `text-3xl` / `text-4xl` - 페이지 제목
- `text-2xl` - 섹션 제목
- `text-xl` - 서브섹션 제목

**본문**:
- `text-base` (16px) - 기본 텍스트
- `text-sm` (14px) - 보조 텍스트
- `text-xs` (12px) - 캡션, 라벨

**폰트 굵기**:
- `font-bold` - 제목, 강조
- `font-semibold` - 서브 제목
- `font-medium` - 레이블
- `font-normal` - 본문

### 4.5 그림자 및 둥근 모서리

**그림자**:
- `shadow-sm` - 미묘한 그림자
- `shadow-md` - 기본 그림자
- `shadow-lg` - 강한 그림자

**둥근 모서리**:
- `rounded-lg` (8px) - 기본
- `rounded-xl` (12px) - 카드
- `rounded-full` - 원형 (아바타, 배지)

---

## 5. 접근성 가이드라인

### 5.1 키보드 네비게이션

**필수 지원**:
- `Tab` / `Shift+Tab`: 포커스 이동
- `Enter` / `Space`: 버튼/링크 활성화
- `Escape`: 모달/드롭다운 닫기
- `Arrow Keys`: 메뉴/리스트 네비게이션

**구현 예시**:
```tsx
<Button
  onKeyDown={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      handleClick();
    }
  }}
>
  클릭
</Button>
```

### 5.2 ARIA 속성

**필수 ARIA 속성**:
- `aria-label`: 텍스트가 없는 버튼
- `aria-labelledby`: 관련 레이블 참조
- `aria-describedby`: 추가 설명 참조
- `aria-hidden`: 장식 요소 숨김
- `aria-live`: 동적 콘텐츠 알림
- `aria-expanded`: 확장 가능 요소 상태
- `aria-current`: 현재 활성 항목

**구현 예시**:
```tsx
<button aria-label="검색" aria-expanded={isOpen}>
  <Search />
</button>

<nav aria-label="주요 네비게이션">
  <a href="/" aria-current="page">홈</a>
</nav>
```

### 5.3 포커스 관리

**포커스 표시**:
- `focus-visible:ring-2` - 포커스 링
- `focus-visible:ring-lavender-500` - 테마 색상
- `focus-visible:outline-none` - 기본 아웃라인 제거

**포커스 트랩**:
- 모달/다이얼로그에서 포커스 갇히기
- `Escape`로 닫을 때 원래 요소로 포커스 복귀

**구현 예시**:
```tsx
<Button className="focus-visible:ring-2 focus-visible:ring-lavender-500">
  액션
</Button>
```

### 5.4 스크린 리더

**스크린 리더 전용 텍스트**:
- `sr-only` 클래스 사용
- 시각적으로 숨김, 스크린 리더는 읽음

**의미론적 HTML**:
- `<nav>`, `<main>`, `<header>`, `<footer>` 사용
- `<h1>` ~ `<h6>` 계층 구조 유지
- `<button>` vs `<a>` 올바른 사용

**구현 예시**:
```tsx
<button>
  <Search />
  <span className="sr-only">검색</span>
</button>

<nav aria-label="주요 네비게이션">
  <ul>
    <li><a href="/">홈</a></li>
  </ul>
</nav>
```

### 5.5 색상 대비

**WCAG AA 기준**:
- 일반 텍스트: 4.5:1 이상
- 큰 텍스트(18px+): 3:1 이상
- UI 컴포넌트: 3:1 이상

**다크 모드 지원**:
- `dark:` prefix 사용
- CSS 변수로 테마 색상 관리
- ThemeProvider로 시스템 테마 감지

**구현 예시**:
```tsx
<p className="text-foreground dark:text-foreground">
  충분한 대비를 가진 텍스트
</p>
```

### 5.6 터치 타겟

**최소 크기**:
- 모바일: 44x44px (iOS 권장)
- 데스크톱: 24x24px

**적절한 간격**:
- 터치 타겟 간 8px 이상 간격
- `gap-2` 이상 사용

**구현 예시**:
```tsx
<Button size="touch" className="min-w-[44px] min-h-[44px]">
  클릭
</Button>
```

### 5.7 폼 접근성

**레이블 연결**:
- 모든 input에 `<Label>` 연결
- `htmlFor` / `id` 매칭

**오류 메시지**:
- `aria-invalid` 속성 사용
- `aria-describedby`로 오류 메시지 연결
- 시각적 + 텍스트 오류 표시

**구현 예시**:
```tsx
<div>
  <Label htmlFor="email">이메일</Label>
  <Input
    id="email"
    type="email"
    aria-invalid={!!error}
    aria-describedby={error ? "email-error" : undefined}
  />
  {error && (
    <p id="email-error" className="text-destructive text-sm">
      {error}
    </p>
  )}
</div>
```

### 5.8 동적 콘텐츠 알림

**라이브 리전**:
- `aria-live="polite"`: 중요하지 않은 업데이트
- `aria-live="assertive"`: 중요한 업데이트
- Toast/Alert에 자동 적용

**구현 예시**:
```tsx
<div aria-live="polite" aria-atomic="true">
  {status && <p>{status}</p>}
</div>
```

---

## 6. 컴포넌트 선택 가이드

### 6.1 버튼 선택

| 사용 사례 | 컴포넌트 | 이유 |
|---------|---------|------|
| 기본 액션 | `Button` | 표준 버튼 |
| 아이콘 + 레이블 | `IconButton` | 터치 친화적 |
| 토글 | `Toggle` / `Switch` | 온/오프 상태 |
| 선택 그룹 | `ToggleGroup` / `RadioGroup` | 다중 옵션 |

### 6.2 오버레이 선택

| 사용 사례 | 컴포넌트 | 이유 |
|---------|---------|------|
| 확인 필요 | `AlertDialog` | 중요한 결정 |
| 폼/콘텐츠 | `Dialog` | 일반 모달 |
| 측면 패널 | `Sheet` | 슬라이드 패널 |
| 하단 패널 | `Drawer` | 모바일 친화적 |
| 간단한 정보 | `Popover` / `Tooltip` | 경량 오버레이 |

### 6.3 네비게이션 선택

| 사용 사례 | 컴포넌트 | 이유 |
|---------|---------|------|
| 모바일 하단 | `BottomNavigation` | 터치 친화적 |
| 데스크톱 사이드 | `Sidebar` | 복잡한 메뉴 |
| 상단 메뉴 | `Header` / `NavigationMenu` | 주요 네비게이션 |
| 드롭다운 | `DropdownMenu` | 숨김 메뉴 |

### 6.4 입력 선택

| 사용 사례 | 컴포넌트 | 이유 |
|---------|---------|------|
| 텍스트 | `Input` | 한 줄 입력 |
| 여러 줄 | `Textarea` | 긴 텍스트 |
| 선택 | `Select` / `RadioGroup` | 옵션 선택 |
| 범위 | `Slider` | 수치 범위 |
| 날짜 | `Calendar` | 날짜 선택 |
| OTP | `InputOTP` | 인증 코드 |

---

## 7. 성능 최적화

### 7.1 코드 스플리팅

**동적 import 사용**:
```tsx
import dynamic from 'next/dynamic';

const HeavyComponent = dynamic(() => import('./HeavyComponent'), {
  loading: () => <Skeleton className="h-20" />
});
```

### 7.2 메모이제이션

**React.memo 사용**:
```tsx
import { memo } from 'react';

const CenterCard = memo(({ name, address }) => {
  // 컴포넌트 로직
});
```

### 7.3 가상화

**긴 리스트 최적화**:
```tsx
import { useVirtualizer } from '@tanstack/react-virtual';

// ScrollArea와 함께 사용
<ScrollArea className="h-[400px]">
  {virtualItems.map(virtualItem => (
    <div key={virtualItem.key}>
      {/* 아이템 */}
    </div>
  ))}
</ScrollArea>
```

---

## 8. 리뷰 및 평점 컴포넌트 (Sprint 4)

### 8.1 ReviewSummary

**목적**: 센터의 평균 별점과 전체 리뷰 개수를 표시하는 요약 컴포넌트

**출력 예시**:
```
★★★★☆ 4.5 (127개의 리뷰)
```

**접근성**:
- 별점은 `role="img"`와 `aria-label="별점 4.5점"` 사용
- 스크린 리더: "별점 4.5점, 127개의 리뷰"

**스토리북 변형**:
- `Default`: 평균 4.5, 리뷰 127개
- `Perfect`: 평균 5.0, 리뷰 500개
- `Low`: 평균 2.3, 리뷰 5개
- `NoReviews`: 평균 0, 리뷰 0개

**Storybook**: `frontend/components/reviews/ReviewSummary.stories.tsx`

---

### 8.2 ReviewCard

**목적**: 개별 리뷰를 카드 형태로 표시 (작성자 정보, 별점, 내용, 반응 버튼 포함)

**주요 기능**:
- 작성자 아바타 및 닉네임
- 별점 표시 (시각적 + ARIA 라벨)
- 방문 날짜 배지 (선택적)
- 제목 및 본문 내용
- 도움돼요/도움안돼요 반응 버튼
- 내 리뷰인 경우 수정/삭제 메뉴 표시
- 삭제 확인 AlertDialog

**접근성**:
- 각 버튼에 명확한 `aria-label` 제공
- 반응 버튼은 `aria-pressed` 상태 토글
- 별점은 `role="img"` with label
- 더보기 메뉴는 `aria-label="더보기 메뉴"`

**인터랙션**:
1. **도움돼요 클릭**: 버튼 활성화, 카운트 +1 (이미 누른 경우 취소)
2. **도움안돼요 클릭**: 버튼 활성화, 카운트 +1 (이미 누른 경우 취소)
3. **더보기 메뉴 (내 리뷰만)**:
   - 수정: `onEdit` 콜백 호출
   - 삭제: AlertDialog 표시 → 확인 시 `onDelete` 호출

**스토리북 변형**:
- `Default`: 일반 리뷰
- `MyReview`: 내가 작성한 리뷰 (수정/삭제 가능)
- `WithTitle`: 제목이 있는 리뷰
- `WithReaction`: 내가 도움돼요를 누른 리뷰
- `NoVisitDate`: 방문 날짜 없는 리뷰

**Storybook**: `frontend/components/reviews/ReviewCard.stories.tsx`

---

### 8.3 ReviewList

**목적**: 리뷰 목록을 표시하고 정렬, 무한 스크롤 기능 제공

**주요 기능**:
- 정렬 셀렉터 (최신순, 도움순, 평점 높은순, 평점 낮은순)
- 전체 리뷰 개수 표시
- 리뷰 카드 리스트
- "더보기" 버튼 (무한 스크롤)
- 로딩 스켈레톤
- 빈 상태 (EmptyReviews)
- 에러 상태

**정렬 옵션**:
- `latest`: 최신순
- `helpful`: 도움순 (helpful_count - unhelpful_count DESC)
- `rating_desc`: 평점 높은순
- `rating_asc`: 평점 낮은순

**접근성**:
- 정렬 셀렉터에 `aria-label="정렬 옵션"`
- 더보기 버튼에 `aria-label="더 많은 리뷰 불러오기"`
- 로딩 중일 때 버튼 텍스트 "불러오는 중..."

**스토리북 변형**:
- `Default`: 리뷰 10개 표시
- `Loading`: 로딩 스켈레톤 상태
- `Empty`: 빈 상태 (리뷰 없음)
- `Error`: 에러 상태

**Storybook**: `frontend/components/reviews/ReviewList.stories.tsx`

---

### 8.4 StarRating

**목적**: 별점 선택 및 표시를 위한 인터랙티브 컴포넌트

**크기 옵션**:
- `sm`: 16x16px (h-4 w-4)
- `md`: 20x20px (h-5 w-5)
- `lg`: 24x24px (h-6 w-6)

**접근성**:
- **인터랙티브 모드**:
  - `role="radiogroup"`
  - `aria-label="별점 선택"`
  - 각 별: `role="radio"`, `aria-checked`, `aria-label="X점"`
  - 키보드 지원: Left/Right 화살표, Home/End
- **읽기 전용 모드**:
  - `role="img"`
  - `aria-label="별점 X점"`
  - `aria-hidden="true"` on stars

**인터랙션**:
1. **마우스**: 호버 시 미리보기, 클릭 시 선택
2. **키보드**:
   - Left/Right 화살표: 별점 조정
   - Home: 1점
   - End: 5점
   - Enter/Space: 현재 별점 선택
3. **터치**: 탭하여 선택

**시각적 피드백**:
- 호버 시 별 확대 (scale-110)
- 채워진 별: 노란색 (fill-yellow-400)
- 빈 별: 회색 (fill-neutral-300)
- 포커스 링: lavender-500

**스토리북 변형**:
- `Interactive`: 인터랙티브 모드 (lg 크기)
- `Readonly`: 읽기 전용 모드
- `Small`: 작은 크기 (sm)
- `Medium`: 중간 크기 (md)
- `Large`: 큰 크기 (lg)
- `ZeroRating`: 별점 0

**Storybook**: `frontend/components/reviews/StarRating.stories.tsx`

---

### 8.5 ReviewFormModal

**목적**: 리뷰 작성 및 수정을 위한 모달 폼

**폼 필드**:
1. **별점** (필수):
   - StarRating 컴포넌트 (lg 크기)
   - 1-5점 선택
   - 기본값: 0 (미선택)

2. **제목** (선택):
   - Input 컴포넌트
   - 최대 100자
   - Placeholder: "리뷰 제목을 입력하세요"

3. **리뷰 내용** (필수):
   - Textarea 컴포넌트
   - 최소 10자, 최대 1000자
   - 실시간 문자 수 표시
   - Placeholder: "센터에 대한 솔직한 리뷰를 작성해주세요"

4. **방문 날짜** (선택):
   - Input type="date"
   - 오늘 이전 날짜만 선택 가능

**주요 기능**:
- 신규 작성 / 수정 모드 자동 전환
- React Hook Form 기반 폼 관리
- 실시간 유효성 검사
- 문자 수 카운터 (1000자 초과 시 빨간색)
- 로딩 상태 (저장 중...)
- Escape 키로 닫기

**접근성**:
- 모든 필드에 `<Label>` 연결
- 필수 필드 `aria-required="true"` + 시각적 별표 (*)
- 에러 메시지 `role="alert"`
- 에러 필드 `aria-invalid="true"`, `aria-describedby="error-id"`
- 모달 포커스 트랩
- 첫 번째 인터랙티브 요소에 자동 포커스

**스토리북 변형**:
- `CreateMode`: 신규 작성 모드
- `EditMode`: 수정 모드 (기존 리뷰 데이터 로드)
- `WithErrors`: 유효성 검사 에러 상태
- `Loading`: 저장 중 상태

**Storybook**: `frontend/components/reviews/ReviewFormModal.stories.tsx`

---

### 8.6 EmptyReviews

**목적**: 리뷰가 없을 때 표시하는 빈 상태 컴포넌트

**출력 내용**:
```
📝 이모지 아이콘

아직 작성된 리뷰가 없습니다
이 센터의 첫 번째 리뷰를 작성해보세요

[첫 리뷰 작성하기 버튼]
```

**디자인**:
- 중앙 정렬 레이아웃
- 아이콘: 크기 48x48px
- 제목: text-h3, neutral-900
- 설명: text-body, neutral-600
- CTA 버튼: lavender primary variant

**접근성**:
- 의미론적 구조 (heading + paragraph + button)
- 버튼에 명확한 레이블

**스토리북 변형**:
- `Default`: 기본 빈 상태

**Storybook**: `frontend/components/reviews/EmptyReviews.stories.tsx`

---

## 9. 리뷰 시스템 통합 가이드

자세한 통합 예시는 Storybook 문서와 각 컴포넌트의 stories 파일을 참조하세요.

---

## 문서 버전

**최종 업데이트**: 2025-10-23
**컴포넌트 수**: 64개 (Sprint 4: +6개)
**문서 버전**: 2.1.0

**Sprint 4 추가 컴포넌트**:
- ReviewSummary
- ReviewCard
- ReviewList
- StarRating
- ReviewFormModal
- EmptyReviews
