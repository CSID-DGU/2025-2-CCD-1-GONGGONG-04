# Product Brief & PRD: 정신건강증진센터 통합 웹서비스 플랫폼

## 1. Product Brief (제품 개요)

### 1.1 제품명
**마음이음** (MindConnect) - 정신건강증진센터 통합 검색 및 추천 플랫폼

### 1.2 제품 비전
"모든 시민이 쉽고 빠르게 필요한 정신건강 서비스를 찾고 연결될 수 있는 통합 플랫폼"

### 1.3 제품 미션
- 분산된 정신건강증진센터 정보를 하나의 플랫폼으로 통합
- 개인 맞춤형 센터 추천으로 적절한 서비스 매칭
- 정신건강 서비스에 대한 진입장벽 낮추기

---

## 2. Product Requirements Document (PRD)

### 2.1 제품의 목적

#### 2.1.1 비즈니스 목적
- **사회적 가치 창출**: 정신건강 서비스 접근성 향상으로 사회적 문제 해결 기여
- **공공데이터 활용**: 정부의 공공데이터 활용 정책에 부응하는 서비스 개발
- **서비스 격차 해소**: 정보 불균형으로 인한 정신건강 서비스 사각지대 해소

#### 2.1.2 사용자 문제 해결
- 흩어진 센터 정보로 인한 검색 어려움 해결
- 개인 상황에 맞는 적절한 센터 선택의 어려움 해결
- 정신건강 서비스에 대한 심리적 진입장벽 완화

### 2.2 대상 사용자

#### 2.2.1 주요 타겟 사용자
**Primary Users (핵심 사용자)**
- 20-40대 직장인: 스트레스, 번아웃 관리가 필요한 그룹
- 대학생 및 청년층: 진로, 대인관계 고민이 있는 그룹
- 육아맘: 산후우울증, 육아스트레스 관련 도움이 필요한 그룹

**Secondary Users (보조 사용자)**
- 노인층: 우울, 치매 예방 프로그램이 필요한 그룹
- 보호자/가족: 가족 구성원을 위한 센터를 찾는 그룹
- 의료/복지 관계자: 환자 연계를 위한 정보가 필요한 전문가

#### 2.2.2 사용자 페르소나
1. **김직장 (35세, 회사원)**
   - 니즈: 퇴근 후 이용 가능한 센터, 직장인 프로그램
   - 페인포인트: 운영시간 정보 부족, 예약 시스템 부재

2. **이대학 (23세, 대학생)**
   - 니즈: 무료/저렴한 상담, 또래 집단 프로그램
   - 페인포인트: 센터별 프로그램 정보 파악 어려움

3. **박엄마 (32세, 육아맘)**
   - 니즈: 아이 동반 가능 센터, 온라인 상담
   - 페인포인트: 육아 중 방문 어려움, 정보 검색 시간 부족

### 2.3 핵심 기능

#### 2.3.1 Core Features (핵심 기능)
1. **지도 기반 센터 검색**
   - 현재 위치 기반 주변 센터 표시
   - 반경 설정 및 지역별 필터링
   - 센터별 상세 정보 팝업

2. **규칙 기반 추천 시스템 (초기 버전)**
   - 간단한 필터링 기반 추천 (위치, 운영시간, 센터구분)
   - 사용자 선호도 설정에 따른 매칭
   - 우선순위 기반 센터 정렬

3. **통합 정보 제공**
   - 센터별 운영시간, 업무내용, 전문분야
   - **실시간 운영 상태 표시** (운영중/마감)
   - 이용 후기 및 평점 시스템
   - 센터 연락처 및 위치 정보

4. **센터 즐겨찾기**
   - 자주 찾는 센터 저장
   - 빠른 접근을 위한 즐겨찾기 목록

5. **정신건강 정보 콘텐츠**
   - 기본적인 정신건강 정보 제공
   - 자가진단 체크리스트
   - 응급 상황 대처 가이드

### 2.4 데이터 구조 및 활용

#### 2.4.1 공공데이터 활용 (전국건강증진센터표준데이터)
**주요 데이터 필드:**
| 칼럼명 | nullable |
|------|------|
| 건강증진센터명 | False |
| 건강증진센터구분 | False |
| 소재지도로명주소 | False |
| 소재지지번주소 | True |
| 위도/경도 좌표 | True |
| 건강증진업무내용 | True |
| 운영시간 (시작/종료) | True |
| 휴무일정보 | True |
| 건물면적 | True |
| 의료진 현황 (의사/간호사/사회복지사/영양사 수) | True |
| 기타인력현황 | True |
| 운영기관 정보 및 연락처 | True |
| 관리기관 정보 | True |

[샘플데이터](./데이터샘플.csv)

#### 2.4.2 데이터 가공 및 활용 전략
- 위도/경도 기반 지도 마커 표시
- **운영시간 파싱하여 실시간 운영 상태 판별** (현재시간과 비교)
- 센터구분별 카테고리 분류
- 의료진 현황 기반 전문성 지표 생성

### 2.5 주요 화면 및 UI/UX 설계

#### 2.5.1 Information Architecture (정보 구조)
```
홈
├── 지도 검색
│   ├── 현재 위치 기반
│   ├── 지역별 검색
│   └── 상세 필터
├── 추천 센터
│   ├── 규칙 기반 추천
│   └── 결과 리스트
├── 센터 정보
│   ├── 센터 상세
│   ├── 운영 정보
│   └── 후기/평점
├── 정신건강 정보
│   ├── 정보 콘텐츠
│   └── 자가진단
└── 마이페이지
    ├── 즐겨찾기
    ├── 방문 기록
    └── 설정
```

#### 2.5.2 주요 화면 상세

**1. 메인 홈 화면**
- 상단: 검색바 및 빠른 필터
- 중앙: 지도 뷰 (기본)
- 하단: 추천 센터 카드 리스트
- 사이드바: 즐겨찾기 빠른 접근

**2. 지도 검색 화면**
- 전체 화면 지도
- 좌측: 필터 패널 (센터구분, 운영시간, 거리)
- 우측: 검색 결과 리스트
- 지도 마커: 센터 위치 표시 (센터구분별 색상 구분)

**3. 추천 센터 화면**
- 상단: 필터 설정 (위치, 운영시간, 센터구분)
- 중앙: 추천 결과 카드 뷰
- 각 카드: 센터 기본 정보 및 매칭 이유

**4. 센터 상세 화면**
- 헤더: 센터명, 구분, 평점, **실시간 운영 상태 배지**
- 정보 섹션: 운영시간, 휴무일, 업무내용
- 의료진 현황: 전문 인력 정보
- 위치 정보: 지도 및 주소
- 연락처: 운영기관 전화번호
- 하단: 즐겨찾기 및 길찾기 버튼

**5. 마이페이지**
- 프로필 섹션 (비회원도 로컬 저장)
- 즐겨찾기 센터 리스트
- 최근 본 센터
- 설정 (알림, 지역 설정 등)

### 2.6 기능 목록 및 우선순위

#### 2.6.1 MVP (Minimum Viable Product) - Phase 1
| 기능 | 설명 | 우선순위 | 예상 공수 |
|------|------|----------|-----------|
| 공공데이터 DB 구축 | 전국건강증진센터 데이터 수집 및 정제 | P0 (필수) | 1주 |
| 지도 기반 검색 | 네이버/카카오 지도 API 연동 | P0 (필수) | 2주 |
| 기본 검색/필터 | 지역, 운영시간, 센터구분별 필터 | P0 (필수) | 1주 |
| **실시간 운영 상태 표시** | **현재시간 기반 운영중/마감 상태 표시** | **P0 (필수)** | **0.5주** |
| 센터 상세 페이지 | 센터 정보 표시 | P0 (필수) | 1주 |
| 반응형 웹 디자인 | 모바일/태블릿 대응 | P0 (필수) | 1주 |
| 센터 즐겨찾기 | 로컬 스토리지 기반 저장 | P0 (필수) | 0.5주 |
| 정신건강 정보 콘텐츠 | 기본 정보 페이지 | P0 (필수) | 1주 |

#### 2.6.2 Phase 2 - 추천 시스템 및 사용자 경험 개선
| 기능 | 설명 | 우선순위 | 예상 공수 |
|------|------|----------|-----------|
| 규칙 기반 추천 | 필터 조합 기반 추천 | P1 (중요) | 1.5주 |
| 자가진단 체크리스트 | 간단한 설문 기능 | P1 (중요) | 1주 |
| 사용자 계정 시스템 | 회원가입/로그인 | P1 (중요) | 1주 |
| 이용 후기 시스템 | 리뷰 및 평점 | P1 (중요) | 1.5주 |
| 검색 히스토리 | 최근 검색 기록 | P2 (선택) | 0.5주 |

#### 2.6.3 Phase 3 - 고도화
| 기능 | 설명 | 우선순위 | 예상 공수 |
|------|------|----------|-----------|
| LLM 기반 추천 | OpenAI/Claude API 활용 추천 | P2 (선택) | 2주 |
| AI 안내 챗봇 | LLM 기반 상담 안내 | P2 (선택) | 2주 |
| 센터 예약 연동 | 외부 예약 시스템 연결 | P3 (보류) | 2주 |
| 데이터 분석 대시보드 | 관리자용 통계 | P3 (보류) | 1.5주 |

### 2.7 기술 요구사항

#### 2.7.1 Frontend
- **Framework**: Next.js 14 (App Router)
- **UI Library**: shadcn/ui
- **상태관리**: Zustand (전역 상태), TanStack Query (서버 상태)
- **스타일링**: Tailwind CSS
- **지도 API**: 네이버 지도 API / 카카오 지도 API
- **폼 관리**: React Hook Form + Zod

#### 2.7.2 Backend
- **Framework**: Express.js
- **Database**: MySQL (센터 정보), Redis (캐싱)
- **ORM**: Prisma
- **API**: RESTful API
- **인증**: JWT 토큰 기반

#### 2.7.3 추천 시스템
- **Phase 1**: 규칙 기반 필터링 (JavaScript 로직)
- **Phase 3**: LLM API (OpenAI GPT-4 또는 Claude API)

#### 2.7.4 Infrastructure
- **Hosting**: Vercel (Frontend), AWS EC2 (Backend)
- **Database**: AWS RDS (MySQL)
- **CDN**: Vercel Edge Network
- **모니터링**: Google Analytics, Sentry
- **CI/CD**: GitHub Actions

### 2.8 비기능적 요구사항

#### 2.8.1 성능
- 페이지 로딩 시간: 3초 이내
- 지도 렌더링: 2초 이내
- API 응답시간: 1초 이내
- 동시 접속자: 1,000명 이상
- Lighthouse 점수: 90점 이상

#### 2.8.2 보안 및 개인정보보호
- HTTPS 적용
- 개인정보 암호화 저장
- 개인정보보호법 준수
- 민감정보 최소 수집 원칙
- OWASP Top 10 보안 취약점 대응

#### 2.8.3 접근성
- WCAG 2.1 Level AA 준수
- 스크린리더 지원
- 키보드 네비게이션
- 고대비 모드 지원

#### 2.8.4 호환성
- 브라우저: Chrome, Safari, Firefox, Edge 최신 2개 버전
- 모바일: iOS 12+, Android 8+
- 반응형: 320px ~ 1920px

### 2.9 데이터베이스 설계 (초기안, 수정될 수 있음)

#### 2.9.1 주요 테이블
```sql
-- 센터 정보 테이블
centers (
  id INT PRIMARY KEY,
  name VARCHAR(100),
  category VARCHAR(50),
  road_address TEXT,
  jibun_address TEXT,
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8),
  business_content TEXT,
  open_time TIME,
  close_time TIME,
  holiday_info TEXT,
  building_area FLOAT,
  doctor_count INT,
  nurse_count INT,
  social_worker_count INT,
  nutritionist_count INT,
  other_staff TEXT,
  operating_agency VARCHAR(100),
  operating_phone VARCHAR(20),
  managing_agency VARCHAR(100),
  managing_phone VARCHAR(20),
  data_update_date DATE,
  is_operating BOOLEAN GENERATED ALWAYS AS (
    CASE
      WHEN CURRENT_TIME BETWEEN open_time AND close_time THEN TRUE
      ELSE FALSE
    END
  ) STORED
)

-- 사용자 테이블 (Phase 2)
users (
  id INT PRIMARY KEY,
  email VARCHAR(100),
  password_hash VARCHAR(255),
  nickname VARCHAR(50),
  created_at TIMESTAMP
)

-- 즐겨찾기 테이블
favorites (
  user_id INT,
  center_id INT,
  created_at TIMESTAMP
)

-- 리뷰 테이블 (Phase 2)
reviews (
  id INT PRIMARY KEY,
  center_id INT,
  user_id INT,
  rating INT,
  content TEXT,
  created_at TIMESTAMP
)
```

### 2.10 API 명세 (주요 엔드포인트, 초기안, 수정될 수 있음)

#### 2.10.1 센터 관련
- `GET /api/centers` - 센터 목록 조회 (필터링 포함)
- `GET /api/centers/:id` - 센터 상세 조회
- `GET /api/centers/nearby` - 주변 센터 조회
- `GET /api/centers/recommend` - 추천 센터 조회
- **`GET /api/centers/:id/status` - 센터 실시간 운영 상태 조회**

#### 2.10.2 사용자 관련 (Phase 2)
- `POST /api/auth/register` - 회원가입
- `POST /api/auth/login` - 로그인
- `GET /api/users/favorites` - 즐겨찾기 목록
- `POST /api/users/favorites` - 즐겨찾기 추가
- `DELETE /api/users/favorites/:centerId` - 즐겨찾기 삭제

#### 2.10.3 리뷰 관련 (Phase 2)
- `GET /api/reviews/center/:centerId` - 센터별 리뷰 조회
- `POST /api/reviews` - 리뷰 작성
- `PUT /api/reviews/:id` - 리뷰 수정
- `DELETE /api/reviews/:id` - 리뷰 삭제

### 2.11 성공 지표 (KPI)

#### 2.11.1 사용자 지표
- MAU (월간 활성 사용자): 10,000명 (6개월 내)
- 평균 세션 시간: 5분 이상
- 재방문율: 30% 이상
- 사용자 만족도: 4.0/5.0 이상

#### 2.11.2 비즈니스 지표
- 센터 상세 페이지 조회수: 월 50,000회
- 즐겨찾기 등록률: 20% 이상
- 지도 검색 사용률: 60% 이상
- 추천 센터 클릭률: 15% 이상 (Phase 2)

### 2.12 리스크 및 대응 방안

| 리스크 | 영향도 | 발생가능성 | 대응 방안 |
|--------|--------|------------|-----------|
| 공공데이터 품질 이슈 | 높음 | 중간 | 데이터 정제 프로세스, 주기적 업데이트 |
| 데이터 인코딩 문제 | 중간 | 높음 | UTF-8 변환, 데이터 검증 로직 |
| 개인정보 유출 | 매우 높음 | 낮음 | 보안 강화, 최소 정보 수집 |
| 센터 정보 변경 | 중간 | 중간 | 정기적 데이터 업데이트 체계 구축 |
| Next.js 성능 이슈 | 낮음 | 낮음 | 코드 스플리팅, 최적화 적용 |

### 2.13 프로젝트 일정

#### 2.13.1 개발 로드맵
- **Phase 1 (MVP)**: 6주
  - Week 1: 환경 설정 및 데이터베이스 구축
  - Week 2-3: 지도 기능 개발
  - Week 4: 센터 검색 및 필터링
  - Week 5: 즐겨찾기 및 정보 콘텐츠
  - Week 6: 테스트 및 배포

- **Phase 2**: 4주
  - Week 7-8: 규칙 기반 추천 시스템
  - Week 9: 사용자 시스템
  - Week 10: 리뷰 시스템

- **Phase 3**: 4주
  - Week 11-12: LLM API 통합
  - Week 13: AI 챗봇 개발
  - Week 14: 최적화 및 안정화

### 2.14 이해관계자

- **프로젝트 오너**: 프로젝트 팀장
- **개발팀**: Frontend 2명, Backend 2명
- **디자인**: UI/UX 디자이너 1명
- **데이터**: 공공데이터포털
- **자문**: 정신건강 전문가
- **최종 사용자**: 일반 시민

### 2.15 부록

#### 2.15.1 참고 자료
- 공공데이터포털 전국건강증진센터표준데이터
- Next.js 14 공식 문서
- shadcn/ui 컴포넌트 라이브러리
- 보건복지부 정신건강 정책 가이드라인

#### 2.15.2 용어 정의
- **정신건강증진센터**: 지역사회 정신건강 서비스 제공 기관
- **규칙 기반 추천**: 사전 정의된 규칙에 따른 필터링 추천
- **LLM**: Large Language Model (대규모 언어 모델)
- **MVP**: 최소 기능 제품 (Minimum Viable Product)

---

이 PRD는 프로젝트의 진행 상황에 따라 지속적으로 업데이트되며, 모든 변경사항은 버전 관리를 통해 추적됩니다.